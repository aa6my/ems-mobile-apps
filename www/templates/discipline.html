<ion-view view-title="Discipline">
	<ion-nav-buttons side="left">
        <button menu-toggle="left"class="button button-icon icon ion-android-arrow-back"></button>
    </ion-nav-buttons>
  	<div ng-controller="Discipline" ng-app="disciplineModule">

        <ion-content class="has-header">
        <ion-refresher
        pulling-text="Pull to refresh..."
        refreshing-icon=""
        on-refresh="doRefresh()">
        </ion-refresher>
        <div class="ft-container">
        
            <table class="footable" data-page-size="5">
                <thead>
                <tr>
                    <th>
                        Employee
                    </th>
                    <th data-hide="phone">
                        Date
                    </th>
                    <th>
                        Headline
                    </th>
                    
                    
                    <th>
                        Action
                    </th>
                
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="discipline in disciplines()">
                    <td>{{::discipline.name}}</td>
                    <td>{{::discipline.date}}</td>
                    <td>{{::discipline.headline}}</td>
                    <td>
                        <!-- <a><i class="icon ion-clipboard" data-pack="default" style=""></i></a> -->
                        <a ng-click="goToEditPage({{::discipline.record_id}})"><i class="icon ion-edit"></i></a>
                        <a ng-click="deleteData({{::discipline.record_id}})"><i class="icon ion-trash-a"></i></a>


                    </td>
                </tr>
                </tbody>
                <tfoot>
                    <tr>
                        <td colspan="7" class="text-center">
                        <ul class="pagination">
                        </ul>
                        </td>
                    </tr>
                </tfoot>
            </table>
        </div>
        <script id="modal_discipline.html" type="text/ng-template">
                      <ion-modal-view >
                        <ion-header-bar class="bar bar-header head">
                          <h1 class="title">{{myModal.title}}</h1>
                          <button class="button button-clear button-primary" ng-click="modal_discipline.hide()">Cancel</button>
                        </ion-header-bar>
                        <ion-content class="padding">
                          <div class="list">
                          <div class="item item-input-inset" style="border:none">                        
                              

                                 <select class="form-control" ng-model="formData.employee_id" id="employee_id">
                                  <option value="">-Select position-</option>
                                  <option value="{{::p.employee_id}}" ng-repeat="p in employees" >{{::p.name}}</option>
                                 
                                </select> 
                                
                                                                                                       
                            </div> 
                            <div class="item item-input-inset" style="border:none">                        
                               <label class="item-input-wrapper">
                                  <input type="text" placeholder="Date" ng-model="formData.date"> 
                                </label>                                                                           
                            </div>
                                                       
                            <div class="item item-input-inset" style="border:none">                        
                               <label class="item-input-wrapper">
                                  <input type="text" placeholder="Headline" ng-model="formData.headline"> 
                                </label>                                                                           
                            </div>

                            <div class="item item-input-inset" style="border:none">                        
                               <label class="item-input-wrapper">
                                  <input type="text" placeholder="Description" ng-model="formData.description"> 
                                </label>                                                                           
                            </div>

                            <div class="item item-input-inset" style="border:none">                        
                               <label class="item-input-wrapper">
                                  <input type="text" placeholder="Comment" ng-model="formData.comment"> 
                                </label>                                                                           
                            </div>

                            <div class="item item-input-inset" style="border:none">                        
                               <label class="item-input-wrapper">
                                  <input type="text" placeholder="Tack Action" ng-model="formData.taken_actions"> 
                                </label>                                                                           
                            </div>
                       
                            <button class="button button-full button-assertive" ng-click="addData()" ng-init="true" ng-show="s_button">Add</button>
                           <button class="button button-full button-assertive" ng-click="editData(record_id)" ng-show="e_button" ng-init="false">Save</button>
                          </div>
                        </ion-content>
                      </ion-modal-view>
                  </script>
</ion-content>

<div class="tabs tabs-icon-only">
        <a class="tab-item">
            <i class="icon ion-home" ng-click="backHome()"></i>
        </a>
        <a class="tab-item">
            <i class="icon ion-plus-circled" ng-click='goToAddData()'></i>
        </a>
        <a class="tab-item">
            <i class="icon ion-gear-a"></i>
        </a>
    </div>
</div>
</ion-view>

<script type="text/javascript">
    $(function () {

        $('table').footable();
        
    });
</script>
